(()=>{"use strict";(()=>{const e=document.querySelector("audio"),t=new AudioContext,n=t.createMediaElementSource(e);e.volume=.2;const a=document.querySelector(".player-play-btn"),r=a.querySelector(".player-icon-play"),d=a.querySelector(".player-icon-pause"),s=document.querySelector(".player-progress"),o=document.querySelector(".player-progress-filled"),i=document.querySelector(".player-time-current"),u=document.querySelector(".player-time-duration");document.querySelector(".player-volume"),window.addEventListener("load",(()=>{y(),e.addEventListener("timeupdate",(()=>{!function(){const t=e.currentTime/e.duration*100;o.style.flexBasis=`${t}%`}(),y()})),a.addEventListener("click",(()=>{"suspended"===t.state&&t.resume(),"false"===a.dataset.playing?(e.play(),a.dataset.playing="true",r.classList.add("hidden"),d.classList.remove("hidden")):"true"===a.dataset.playing&&(e.pause(),a.dataset.playing="false",d.classList.add("hidden"),r.classList.remove("hidden"))})),e.addEventListener("ended",(()=>{a.dataset.playing="false",d.classList.add("hidden"),r.classList.remove("hidden"),o.style.flexBasis="0%",e.currentTime=0,e.duration=e.duration}));const c=t.createGain(),l=document.querySelector(".player-volume");function y(){i.textContent=new Date(1e3*e.currentTime).toISOString().substr(11,8),u.textContent=new Date(1e3*e.duration).toISOString().substr(11,8)}l.addEventListener("change",(()=>{c.gain.value=l.value})),n.connect(c).connect(t.destination);let m=!1;function p(t){const n=t.offsetX/s.offsetWidth*e.duration;e.currentTime=n}s.addEventListener("click",p),s.addEventListener("mousemove",(e=>m&&p(e))),s.addEventListener("mousedown",(()=>m=!0)),s.addEventListener("mouseup",(()=>m=!1))}),!1)})()})();
//# sourceMappingURL=script.min.js.map